<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Debugger - Calva Documentation</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Debugger";
    var mkdocs_page_input_path = "debugger.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Calva Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Getting Started</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../connect/">Connect Calva to Your Project</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../try-first/">Something to Try First (After Connecting)</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../finding-commands/">Finding Calva Commands</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../eval-tips/">Code Evaluation Tips</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Features</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../commands-top10/">The Top 10 Calva Commands</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../formatting/">Formatting</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../paredit/">Paredit – a Visual Guide</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Debugger</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#using-the-debugger">Using the Debugger</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#setting-breakpoints-with-break">Setting Breakpoints with #break</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#instrumenting-a-function-with-dbg">Instrumenting a Function with #dbg</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#evaluating-code-in-the-paused-context">Evaluating Code in the Paused Context</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#viewing-variable-values-while-debugging">Viewing Variable Values While Debugging</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#navigation">Navigation</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#features">Features</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#current">Current</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#upcoming">Upcoming</a>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../pprint/">Pretty Printing</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../linting/">Linting</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Customizing Calva</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../customizing/">Customizing Calva</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../connect-sequences/">REPL Jack-in and Connection Sequences</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../custom-commands/">Running Custom REPL Commands</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Using Calva with X</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../rebl/">How to Use Calva and REBL Together</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../vim/">Calva and the VIM Extension</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../wsl/">Calva ❤️ WSL</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../remote-development/">Using Calva with Remote Development</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../luminus/">How to Use Calva with Luminus</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Etcetera</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../workspace-layouts/">Workspace layouts</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../quirks/">Quirks</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">In Depth</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../jack-in-guide/">Learn about Calva Jack-in</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Calva Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Features &raquo;</li>
        
      
    
    <li>Debugger</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="debugger">Debugger</h1>
<p>Calva's debugger allows you to place breapoints via reader tags so that execution will pause at those locations. During paused execution, you can see the value of local variables in the side pane, as well as evaluate code within the local context - via the editor or the repl-window, just as you normally would evaluate code.</p>
<p>The debugger is in an early release stage. Some functionality does not yet work. See the <a href="#features">features</a> section for details.</p>
<p>Note: The debugger currently does not support ClojureScript. Calva's debugger utilizes cider-nrepl for debugging. See <a href="https://github.com/clojure-emacs/cider/issues/1416">this Cider issue</a> for more information.</p>
<h2 id="using-the-debugger">Using the Debugger</h2>
<h3 id="setting-breakpoints-with-break">Setting Breakpoints with <code>#break</code></h3>
<p>You can insert a breakpoint manually into any code by placing a <code>#break</code> in front of the form where you want execution to pause, and then evaluating the top level form with <code>ctrl+alt+c space</code>. When you evaluate a call to this code the VS Code debugger will start, the cursor will move to right after the form that's preceded by <code>#break</code>, and the line will be highlighted so show execution is paused there.</p>
<p>Note: Code will be executed up to and including the form preceding the cursor.</p>
<p><img alt="Setting a breakpoint with #break" src="../images/debugger/break.png" /></p>
<p>You can also set conditional breapoints by adding metadata before the form that the <code>#break</code> applies to.</p>
<p><img alt="Setting a conditional breakpoint with #break" src="../images/debugger/break-conditional.png" /></p>
<h3 id="instrumenting-a-function-with-dbg">Instrumenting a Function with <code>#dbg</code></h3>
<p>Adding <code>#dbg</code> before a function definition then evaluating the top-level form with <code>ctrl+alt+c space</code> will instrument the function, meaning breakpoints will be added in places where it makes sense. When you evaluate a call to this function, execution will pause wherever breakpoints were added. These breakpoints are not visible in the editor. If you notice execution does not pause, it's likely that no reasonable place was found to place a breakpoint.</p>
<p><img alt="Setting a breakpoint with #dbg" src="../images/debugger/dbg.png" /></p>
<h3 id="evaluating-code-in-the-paused-context">Evaluating Code in the Paused Context</h3>
<p>When execution is paused at a breakpoint, you can evaluate code in that context. This can be done in the editor or in the REPL window, as usual. In the REPL window, the prompt changes to <code>&lt;&lt;debug-mode&gt;&gt;=&gt;</code> to show that evaluations will occur in the debug context.</p>
<p><img alt="Evaluating code in the paused context via the editor" src="../images/debugger/eval-editor.png" /></p>
<p><img alt="Evaluating code in the paused context via the repl window" src="../images/debugger/eval-repl-window.png" /></p>
<h3 id="viewing-variable-values-while-debugging">Viewing Variable Values While Debugging</h3>
<p>While debugging, you can view the values of variables in VS Code's debugger side pane. You can also view values by hovering over the variables in the editor. Currently, values for collections and maps are shown as strings, but we plan to make them structured in the future. For now, if you want to see the value of a large structured variable, you can evaluate the variable, either from the editor or from the REPL window.</p>
<p><img alt="Viewing variable values in the side pane" src="../images/debugger/viewing-variable-values.png" /></p>
<h3 id="navigation">Navigation</h3>
<p>You can use VS Code's debugger UI to navigate while debugging. Currently only the continue functionality is implemented, but in the future step over, step into, and step out will be implemented as well. Clicking the step buttons currently does nothing. Also, clicking restart does nothing, since this functionality does not make sense for our debugger.</p>
<p><img alt="VS Code's debugger navigation buttons" src="../images/debugger/navigation-buttons.png" /></p>
<h2 id="features">Features</h2>
<h3 id="current">Current</h3>
<ul>
<li>Set breakpoints with <code>#break</code></li>
<li>Instrument functions with <code>#dbg</code></li>
<li>Continue to next breakpoint</li>
<li>Evaluate code in the debug context</li>
<li>See variable values in the debugger side pane</li>
<li>See variable values on hover in the editor</li>
</ul>
<h3 id="upcoming">Upcoming</h3>
<ul>
<li>Step over form</li>
<li>Step into form</li>
<li>Step out of form</li>
<li>See structured variables in the debugger side pane (currently maps and collections are just shown as strings)</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../pprint/" class="btn btn-neutral float-right" title="Pretty Printing">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../paredit/" class="btn btn-neutral" title="Paredit – a Visual Guide"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../paredit/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../pprint/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
